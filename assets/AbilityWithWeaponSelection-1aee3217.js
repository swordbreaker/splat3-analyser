import{d as S,r as v,w as k,f as A,h as E,o as h,a as y,e as f,b as a,j as o,v as W,l as x,m as V,x as L,E as D,y as P,z as B,A as R,B as T,_ as N,C as M,D as j,k as z,u as G,g as U,G as $}from"./index-e676222a.js";import{_ as q,b as F}from"./AbilitySelector-0844a414.js";import{l as w,g as H}from"./weapons-0e9b8fd6.js";const J=i=>(R("data-v-9f9bc995"),i=i(),T(),i),K={class:"row"},O=J(()=>f("div",{class:"sub-title my-2 text-sm text-gray-600"},"Select a weapon.",-1)),Q={class:"autocomplete-content"},X={class:"value"},Y={key:0,class:"col"},Z=S({__name:"WeaponSelector",props:{selectedWeapon:{}},emits:["change"],setup(i,{emit:b}){const p=i,r=v();k(()=>p.selectedWeapon,async(e,s)=>{e!=null&&(_.value=e.mainWeaponName,t.value=e,r.value=await t.value.getSubWeaponInfo())});const u=v([]),_=v(""),t=v(),l=(e,s)=>{const c=e?u.value.filter(d=>d.mainWeaponName.toLocaleLowerCase().includes(e.toLocaleLowerCase())):u.value;s(c)};function I(e){_.value=(e==null?void 0:e.mainWeaponName)??"",t.value=e,b("change",e)}return A(()=>{w().then(e=>{u.value=e.filter(s=>s.mainInfo.Type=="Versus")})}),E(e=>{w().then(s=>{u.value=s.filter(d=>d.mainInfo.Type=="Versus");const c=u.value.find(d=>{var m;return d.mainInfo.__RowId==((m=t.value)==null?void 0:m.mainInfo.__RowId)});I(c)})}),(e,s)=>{const c=V,d=L,m=D,g=P,C=B;return h(),y("div",K,[f("div",null,[O,a(d,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=n=>_.value=n),"fetch-suggestions":l,clearable:"",class:"inline-input w-50",placeholder:"Please Input",onSelect:I},{default:o(({item:n})=>[f("div",Q,[a(c,{class:"autocomplete-img",src:n.imgPath,fit:"contain"},null,8,["src"]),f("span",X,W(n.mainWeaponName),1)])]),_:1},8,["modelValue"])]),t.value!=null?(h(),y("div",Y,[a(C,{class:"weapon-description",title:"",direction:"vertical",column:5,border:""},{default:o(()=>[a(g,{align:"center",label:"Main"},{default:o(()=>[a(m,{class:"box-item",effect:"dark",content:t.value.mainWeaponName,placement:"bottom"},{default:o(()=>{var n;return[a(c,{class:"main",src:(n=t.value)==null?void 0:n.imgPath,fit:"contain"},null,8,["src"])]}),_:1},8,["content"])]),_:1}),a(g,{align:"center",label:"Sub"},{default:o(()=>[a(m,{class:"box-item",effect:"dark",content:t.value.subWeaponName,placement:"bottom"},{default:o(()=>[a(c,{class:"sub",src:t.value.subImgPath,fit:"contain"},null,8,["src"])]),_:1},8,["content"])]),_:1}),a(g,{align:"center",label:"Special"},{default:o(()=>[a(m,{class:"box-item",effect:"dark",content:t.value.specialWeaponName,placement:"bottom"},{default:o(()=>{var n;return[a(c,{class:"sub",src:(n=t.value)==null?void 0:n.specialImgPath,fit:"contain"},null,8,["src"])]}),_:1},8,["content"])]),_:1}),a(g,{align:"center",label:"Weapon speed type"},{default:o(()=>{var n;return[f("span",null,W((n=t.value)==null?void 0:n.WeaponSpeedType),1)]}),_:1}),a(g,{align:"center",label:"Sub Ink Save Lvl"},{default:o(()=>{var n;return[f("span",null,W((n=r.value)==null?void 0:n.subInkSaveLv),1)]}),_:1})]),_:1})])):x("",!0)])}}});const ee=N(Z,[["__scopeId","data-v-9f9bc995"]]),ae=S({__name:"AbilityWithWeaponSelection",props:{effectName:{},weapon:{},abilityImg:{}},emits:["weapon-changed","ap-changed"],setup(i,{emit:b}){const p=i,r=v(void 0),u=v(0);p.weapon!=null&&p.weapon!=""&&H(p.weapon).then(l=>_(l));async function _(l){l!=null&&M.push({name:p.effectName,params:{weapon:l.mainInfo.__RowId}}),r.value=l,b("weapon-changed",l)}function t(l){b("ap-changed",l)}return(l,I)=>{const e=$,s=F,c=j;return h(),y("section",null,[a(c,null,{default:o(()=>[a(e,{md:24,lg:12},{default:o(()=>[a(ee,{onChange:_,"selected-weapon":r.value},null,8,["selected-weapon"])]),_:1}),r.value!=null?(h(),z(e,{key:0,md:24,lg:12},{default:o(()=>[a(q,{title:"AP",value:u.value,"bigger-is-better":!0},null,8,["value"]),a(s,{image:G(U)(p.abilityImg),onChanged:t},null,8,["image"])]),_:1})):x("",!0)]),_:1})])}}});const le=N(ae,[["__scopeId","data-v-84d8b66b"]]);export{le as A};
