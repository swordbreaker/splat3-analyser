import{d as B,r as d,f as I,h as R,i as C,a as g,e as p,b as l,F as w,H as G,j as b,E as T,o as _,A as x,B as E,p as $,_ as A}from"./index-e676222a.js";import{a as F,b as z,S as L,c as U}from"./weapons-0e9b8fd6.js";import{E as h,a as f,S as V}from"./AbilitySelector-0844a414.js";import{_ as H}from"./AbilitySelection.vue_vue_type_script_setup_true_lang-ba9bc4f0.js";function W(a){switch(a){case"BombSplash":case"BombSuction":case"BombCurling":case"BombRobot":case"BombTorpedo":return[{title:"Damage",key:"DamageRt_BombH"}];case"BombFizzy":case"BombQuick":return[{title:"Damage",key:"DamageRt_BombL"}];case"LineMarker":return[{title:"Damage",key:"DamageRt_LineMarker"}];case"Sprinkler":return[{title:"Damage",key:"DamageRt_Sprinkler"}];case"Shield":return[{title:"Damage",key:"DamageRt_Shield"}];case"Beacon":return[];case"PointSensor":return[{title:"Marking Time",key:"MarkingTimeRt"}];case"PoisonMist":return[{title:"Movement speed penalty",key:"MoveDownRt_PoisonMist"}];case"Trap":return[{title:"Damage",key:"DamageRt_BombH"},{title:"Marking Time",key:"MarkingTimeRt_Trap"}]}}async function K(a){const t=await U(a.subId),e=W(a.subId);switch(a.subId){case"BombCurling":const s=await r(t.params.GameParameters.BlastParamMaxCharge.DistanceDamage,e[0].key,a.name," at max charge"),n=await r(t.params.GameParameters.BlastParamMaxCharge.DistanceDamage,e[0].key,a.name," at min charge");return s.concat(n);case"BombFizzy":const k=await r(t.params.GameParameters.MoveParam.BlastParamArray[0].DistanceDamage,e[0].key," unshaked"),D=await r(t.params.GameParameters.MoveParam.BlastParamArray[1].DistanceDamage,e[0].key," once shaked"),u=await r(t.params.GameParameters.MoveParam.BlastParamArray[2].DistanceDamage,e[0].key," twice shaked");return k.concat(D).concat(u);case"BombTorpedo":const c=await r(t.params.GameParameters.BlastParamChase.DistanceDamage,e[0].key,a.name," chase direct"),i=await r(t.params.GameParameters.BlastParamChase.SplashBlastParam.DistanceDamage,e[0].key,a.name," chase splash"),o=await r(t.params.GameParameters.BlastParamThrow.DistanceDamage,e[0].key,a.name," throw");return c.concat(i).concat(o);case"BombSuction":case"BombSplash":case"BombQuick":case"BombRobot":return await r(t.params.GameParameters.BlastParam.DistanceDamage,e[0].key,a.name);case"LineMarker":return[await S(t.params.GameParameters.MoveParam.DirectDamage,e[0].key,`${a.name} direct Damage`)];case"Sprinkler":return[];case"Shield":return[await S(t.params.GameParameters.MoveParam.DamageSpanFrame,e[0].key,`${a.name} Damage`)];case"PointSensor":return[{title:`${a.name} Markin time reduction`,data:new h(await f(e[0].key)),note:"depending on the sub power up of the opponent"}];case"PoisonMist":return[{title:`${a.name} Move penalty`,data:new h(await f(e[0].key)),note:"depending on the sub power up of the opponent"}];case"Trap":const m=await r(t.params.GameParameters.BlastParam.DistanceDamage,e[0].key,a.name);return m.push({title:`${a.name} Marking time`,data:new h(await f(e[1].key))}),m;default:return[]}}async function r(a,t,e,s=""){return Promise.all(a.map(n=>S(n.Damage,t,`${e}${s} Damage with max Distance of ${n.Distance}`)))}async function S(a,t,e){const s=new h(await f(t));return{title:e,data:s.mapSimple(n=>a*n)}}async function P(a){const t=[];for(const e of a)for(const s of await K(e))t.push(s);return t}async function N(){const a=await F(),t=await z();return a.filter(e=>e.Type=="Versus"&&e.__RowId!="Beacon"&&e.__RowId!="Sprinkler").map(e=>new L(e,t))}const Q=a=>(x("data-v-7ae10471"),a=a(),E(),a),j=Q(()=>p("h1",null,"Sub Resistance Up",-1)),q={class:"sub-container"},J={class:"sub"},O=["onChange"],X=["src","alt"],Y="SubEffect_Reduction.png",Z=B({__name:"SubResistanceUp",props:{weapon:String},setup(a){const t=d(0),e=d([]),s=d([]),n=d(new Set);I(()=>{u()}),R(c=>{u()});function k(c){t.value=c}function D(c,i){c.target.checked?n.value.add(i):n.value.delete(i),P(Array.from(n.value)).then(m=>e.value=m)}function u(){N().then(c=>{s.value=c;const i=[];for(const o of n.value)s.value.find(m=>m.subId==o.subId)==null&&i.push(o);i.forEach(o=>n.value.delete(o)),P(Array.from(n.value)).then(o=>e.value=o)})}return(c,i)=>{const o=C("InfoFilled"),m=$,v=T;return _(),g(w,null,[j,p("section",null,[l(H,{"ability-img":Y,onApChanged:k}),p("div",q,[(_(!0),g(w,null,G(s.value,y=>(_(),g("label",J,[p("input",{type:"checkbox",onChange:M=>D(M,y)},null,40,O),p("img",{src:y.imageSrc,alt:y.name},null,8,X)]))),256)),l(v,{placement:"bottom",content:"Sprinkler is also effected from Sub Resistance Up but I found no damage data for the Sprinkler."},{default:b(()=>[l(m,{style:{"margin-left":"4px"},size:12},{default:b(()=>[l(o)]),_:1})]),_:1})]),l(V,{stats:e.value,ap:t.value},null,8,["stats","ap"])])],64)}}});const aa=A(Z,[["__scopeId","data-v-7ae10471"]]),oa=B({__name:"SubResistanceUp",props:{weapon:String},setup(a){const t=a;return(e,s)=>(_(),g("main",null,[l(aa,{weapon:t.weapon},null,8,["weapon"])]))}});export{oa as default};
