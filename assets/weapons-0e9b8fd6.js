var I=Object.defineProperty;var d=(e,a,o)=>a in e?I(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o;var n=(e,a,o)=>(d(e,typeof a!="symbol"?a+"":a,o),o);import{s as r,t as s,I as m}from"./index-e676222a.js";class _{constructor(a){n(this,"data");this.data=a}localize(a,o){return this.data[a][o]}}async function l(e="EUen"){const a=await r(`${s}splat3/data/language/${e}.json`);return new _(a)}const g=m();class R{constructor(a,o){n(this,"info");n(this,"imageSrc");n(this,"name");n(this,"subId");this.info=a,this.imageSrc=w(a),this.name=o.localize("CommonMsg/Weapon/WeaponName_Sub",a.__RowId),this.subId=$(a.SpecActor)}}class b{constructor(a){n(this,"subInkSaveLv");n(this,"inkConsume");n(this,"inkRecoverStop");n(this,"params");this.subInkSaveLv=a.GameParameters.SubWeaponSetting.SubInkSaveLv,a.GameParameters.SubWeaponSetting.SubInkSaveLv==null&&(this.subInkSaveLv=2),this.inkConsume=a.GameParameters.WeaponParam.InkConsume,this.inkConsume==null&&(this.inkConsume=.7),this.inkRecoverStop=a.GameParameters.WeaponParam.InkRecoverStop,this.params=a}}async function f(e,a){return r(`${s}splat3/data/parameter/${e}/weapon/Weapon${a.replace("_","")}.game__GameParameterTable.json`)}async function P(e){const a=await f(g.version,e);return new b(a)}function w(e){return`${s}splat3/images/subspe/Wsb_${e.__RowId}00.png`}function $(e){return e.replace("Work/Actor/Weapon","").replace(".engine__actor__ActorParam.gyml","")}const p=m();class u{constructor(a,o,t){n(this,"mainInfo");n(this,"mainParams");n(this,"imgPath");n(this,"mainWeaponName");n(this,"subWeaponName");n(this,"specialWeaponName");n(this,"SubWeaponId");n(this,"SpecialWeaponId");n(this,"WeaponSpeedType");n(this,"subImgPath");n(this,"specialImgPath");n(this,"specialPoints");var i;this.mainInfo=a,this.mainParams=o,this.specialPoints=a.SpecialPoint,this.WeaponSpeedType=((i=o.GameParameters.MainWeaponSetting)==null?void 0:i.WeaponSpeedType)??"Normal",this.SubWeaponId=a.SubWeapon.replace("Work/Gyml/","").replace(".spl__WeaponInfoSub.gyml",""),this.SpecialWeaponId=a.SpecialWeapon.replace("Work/Gyml/","").replace(".spl__WeaponInfoSpecial.gyml",""),this.imgPath=`${s}splat3/images/weapon_flat/Path_Wst_${this.mainInfo.__RowId}.png`,this.subImgPath=`${s}splat3/images/subspe/Wsb_${this.SubWeaponId}00.png`,this.specialImgPath=`${s}splat3/images/subspe/Wsp_${this.SpecialWeaponId}00.png`;try{this.mainWeaponName=t.localize("CommonMsg/Weapon/WeaponName_Main",this.mainInfo.__RowId),this.subWeaponName=t.localize("CommonMsg/Weapon/WeaponName_Sub",this.SubWeaponId),this.specialWeaponName=t.localize("CommonMsg/Weapon/WeaponName_Special",this.SpecialWeaponId)}catch(c){console.error(c),this.mainWeaponName=this.mainInfo.__RowId,this.subWeaponName=this.SubWeaponId,this.specialWeaponName=this.SpecialWeaponId}}getSubWeaponInfo(){return P(this.SubWeaponId)}getSpecialWeaponInfo(){return k(this.SpecialWeaponId)}}function v(e,a){return r(`${s}splat3/data/parameter/${a}/weapon/${e}.game__GameParameterTable.json`)}function W(e){return r(`${s}splat3/data/mush/${e}/WeaponInfoMain.json`)}function C(){return r(`${s}splat3/data/mush/${p.version}/WeaponInfoSub.json`)}async function S(e,a){const o=e.SpecActor.replace("Work/Actor/","").replace(".engine__actor__ActorParam.gyml","");return await v(o,a)}async function M(){const e=await W(p.version),a=await l(),o=e.filter(t=>t.Type=="Versus"&&t.__RowId!="Shelter_Wide_01").map(async t=>{const i=await S(t,p.version);return new u(t,i,a)});return Promise.all(o)}async function z(e){const a=p.version,o=await l();let t;try{t=(await W(a)).find(h=>h.__RowId==e)}catch(c){console.error(c)}if(t==null)throw new Error(`Weapon ${e} not found`);const i=await S(t,a);return new u(t,i,o)}async function y(e,a){return r(`${s}splat3/data/parameter/${e}/weapon/Weapon${a.replace("_","")}.game__GameParameterTable.json`)}function k(e){return y(p.version,e)}export{R as S,C as a,l as b,P as c,z as g,M as l};
